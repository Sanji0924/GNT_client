(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fee145b"],{1838:function(t,e,s){"use strict";s("a6d9")},"46a5":function(t,e,s){"use strict";var n,o,a,r,i,l,c,d,u,m,f,h,p,b,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal",staticClass:"modal fade",staticStyle:{"z-index":"11000"},attrs:{id:"exampleModal"}},[s("div",{staticClass:"modal-dialog modal-xl modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("輪盤小遊戲")]),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeModal}})]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container d-lg-flex"},[s("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[s("div",{staticClass:"wheelArea position-relative"},[s("button",{attrs:{type:"button",id:"spin_button",disabled:t.isRoll},on:{click:t.btnEvent}},[t._v(" 開始 ")]),s("canvas",{attrs:{id:"canvas"}})]),s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.removerAll}},[t._v(" 移除全部 ")])]),s("table",{staticClass:"table table-striped table-hover align-middle"},[t._m(0),s("tbody",t._l(t.points,(function(e,n){return s("tr",{key:n},[s("th",{staticClass:"text-center"},[t._v(t._s(n+1))]),s("td",[t._v(t._s(e.name))]),s("td",[s("button",{staticClass:"btn btn-danger btn-sm text-white",attrs:{type:"button"},on:{click:function(s){return t.removerPoint(e.key)}}},[t._v(" 移除 ")])])])})),0)])])]),t._m(1)])])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"text-center"},[t._v("編號")]),s("th",[t._v("景點名稱")]),s("th")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" 關閉 ")])])}],y=(s("cb29"),s("b0c0"),s("b64b"),s("d3b7"),s("159b"),s("7c2b")),w=s.n(y),x={data:function(){return{modal:"",points:[],isRoll:!1}},inject:["emitter"],methods:{init:function(){n=document.getElementById("canvas"),n.width=350,n.height=350,o=n.getContext("2d"),a=125,r=0,i=90,l=n.width/2,c=n.height/2,d=0,u=2*Math.PI/this.points.length,m=4e3,f=10,h=0},easeOut:function(t,e,s,n){return(t/=n/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},drawRouletteWheel:function(){o.clearRect(0,0,n.width,n.height);for(var t=0;t<this.points.length;t++){var e=d+u*t,s=e+u;o.save(),t%3===0?o.fillStyle="#B6CCA1":t%3===1?o.fillStyle="#6D98BA":t%3===2&&(o.fillStyle="#77ACA2"),o.beginPath(),o.arc(n.width/2,n.height/2,a,e,s,!1),o.arc(n.width/2,n.height/2,r,s,e,!0),o.fill(),o.restore(),o.save(),o.font="bold 16px Helvetica, Arial",o.fillStyle="#000",o.translate(l+Math.cos(e+u/2)*i,c+Math.sin(e+u/2)*i),o.rotate(e+u/2+Math.PI/2),o.fillText(t+1,-o.measureText(t+1).width/2,0),o.restore()}o.save(),o.beginPath(),o.moveTo(l,c-a+8),o.lineTo(l-10,c-a),o.lineTo(l-4,c-a),o.lineTo(l-4,c-a-10),o.lineTo(l+4,c-a-10),o.lineTo(l+4,c-a),o.lineTo(l+10,c-a),o.closePath(),o.fill(),o.restore()},rotateWheel:function(){var t=this;if(this.isRoll=!0,h+=20,h>=p)return this.closeModal(),this.$swal.fire({title:"轉到 ".concat(this.getValue()," 囉"),showCancelButton:!0,confirmButtonText:"開啟輪盤",cancelButtonText:"關閉"}).then((function(e){e.isConfirmed&&t.openModal()})),void(this.isRoll=!1);var e=(b-this.easeOut(h,0,b,p))*(Math.PI/180);d+=e,this.drawRouletteWheel(),window.requestAnimationFrame(this.rotateWheel)},getValue:function(){var t=180*d/Math.PI,e=180*u/Math.PI,s=90,n=(t+s)%360,o=360-n,a=Math.floor(o/e);return this.points[a].name},btnEvent:function(){console.log("點到ㄌ"),h=0,p=3*Math.random()+m,b=10*Math.random()+f,this.rotateWheel()},openModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()},getPoints:function(){var t=this;this.points=[];var e=Object.keys(localStorage);e.forEach((function(e){t.points.push({key:e,name:localStorage.getItem(e)})}))},removerPoint:function(t){localStorage.removeItem(t),this.emitter.emit("push-message",{style:"primary",title:"移除輪盤項目結果",content:"已從輪盤中移除"}),this.getPoints(),this.init(),this.drawRouletteWheel()},removerAll:function(){localStorage.clear(),this.emitter.emit("push-message",{style:"danger",title:"移除輪盤項目結果",content:"已全部清除"}),this.closeModal(),this.getPoints(),this.init(),this.drawRouletteWheel()}},mounted:function(){this.modal=new w.a(this.$refs.modal)}},C=x,_=(s("e103"),s("2877")),k=Object(_["a"])(C,v,g,!1,null,null,null);e["a"]=k.exports},"81d5":function(t,e,s){"use strict";var n=s("7b0b"),o=s("23cb"),a=s("07fa");t.exports=function(t){var e=n(this),s=a(e),r=arguments.length,i=o(r>1?arguments[1]:void 0,s),l=r>2?arguments[2]:void 0,c=void 0===l?s:o(l,s);while(c>i)e[i++]=t;return e}},"8ac8":function(t,e,s){"use strict";s("bdfd")},a6d9:function(t,e,s){},b0c0:function(t,e,s){var n=s("83ab"),o=s("5e77").EXISTS,a=s("e330"),r=s("9bf2").f,i=Function.prototype,l=a(i.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=a(c.exec),u="name";n&&!o&&r(i,u,{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(t){return""}}})},b0c9:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark header"},[n("div",{staticClass:"container"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[n("img",{staticClass:"logoImg",attrs:{src:s("b32b"),alt:""}})]),t._m(0),n("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarSupportedContent"}},[n("div",{staticClass:"navbar-nav text-sm-center"},[n("router-link",{staticClass:"nav-item nav-link mx-2 d-flex justify-content-center",attrs:{to:"/"}},[t._v("首頁")]),t.isMember?t._e():n("router-link",{staticClass:"nav-item nav-link mx-2 d-flex justify-content-center",attrs:{to:"/memberSignUp"}},[t._v("會員註冊")]),t.isMember?t._e():n("router-link",{staticClass:"nav-item nav-link mx-2 d-flex justify-content-center",attrs:{to:"/memberLogin"}},[t._v("會員登入")]),n("a",{staticClass:"nav-item nav-link mx-2 d-flex justify-content-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openRouletteModal.apply(null,arguments)}}},[t._v("隨機輪盤")]),n("div",{staticClass:"dropdown"},[t._m(1),n("ul",{staticClass:"dropdown-menu dropdown-menu-end py-0 right-0",attrs:{"aria-labelledby":"navbarDropdown"}},[n("li",[n("a",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{href:"/shops/all"},on:{click:function(e){return e.preventDefault(),t.getAllShops.apply(null,arguments)}}},[t._v("全部商家")])]),n("li",[n("a",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{href:"/shops/all"},on:{click:function(e){return e.preventDefault(),t.getTypeShops("bar")}}},[t._v("酒吧")])]),n("li",[n("a",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{href:"/shops/desserts"},on:{click:function(e){return e.preventDefault(),t.getTypeShops("dessert")}}},[t._v("咖啡甜點")])]),n("li",[n("a",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{href:"/shops/snacks"},on:{click:function(e){return e.preventDefault(),t.getTypeShops("snack")}}},[t._v("小吃宵夜")])]),n("li",[n("a",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{href:"/shops/nightviews"},on:{click:function(e){return e.preventDefault(),t.getTypeShops("viewpoint")}}},[t._v("夜間景點")])])])]),t.isMember?n("div",{staticClass:"dropdown"},[t._m(2),n("ul",{staticClass:"dropdown-menu dropdown-menu-end py-0 right-0 bg-dark text-sm-center",attrs:{"aria-labelledby":"navbarDropdown"}},[n("li",[n("router-link",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{to:"/member/memberInfo"}},[t._v("會員資料")])],1),n("li",[n("router-link",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{to:"/member/favorites"}},[t._v("我的最愛")])],1),n("li",[n("router-link",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{to:"/member/reviews"}},[t._v("分享紀錄")])],1),n("li",[n("router-link",{staticClass:"dropdown-item text-white py-2 border-bottom border-1 border-primary d-flex justify-content-center",attrs:{to:"/member/routes"}},[t._v("行程規劃")])],1)])]):t._e(),t.isMember?n("a",{staticClass:"nav-item nav-link mx-2 d-flex justify-content-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("會員登出")]):t._e()],1)])],1)]),n("Roulette",{ref:"modal"})],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"nav-link dropdown d-flex justify-content-center align-items-center mx-2",attrs:{href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v(" 主題頁面"),s("span",{staticClass:"material-icons"},[t._v(" expand_more ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"nav-link dropdown d-flex justify-content-center align-items-center mx-2",attrs:{href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v(" 功能選單"),s("span",{staticClass:"material-icons"},[t._v(" expand_more ")])])}],a=(s("b64b"),s("46a5")),r={props:["isMember"],data:function(){return{}},components:{Roulette:a["a"]},methods:{logout:function(){var t=this;document.cookie="memberToken=; expires=; path=/",document.cookie="memberID=; expires=; path=/",this.$swal.fire({icon:"success",title:"已登出，將回到首頁",showConfirmButton:!1,timer:1500}),setTimeout((function(){"/"==t.$router.history.current.fullPath?t.$router.go(0):t.$router.push("/")}),1e3)},getAllShops:function(){"/shops/all"!==this.$router.history.current.fullPath?(this.$router.push("/shops/all"),this.$emit("get-all-shops")):this.$emit("get-all-shops")},getTypeShops:function(t){"/shops/all"!==this.$router.history.current.fullPath&&(this.$router.push("/shops/all"),this.$emit("get-type-shops",t),console.log("觸發")),this.$emit("get-type-shops",t)},openRouletteModal:function(){var t=Object.keys(localStorage);t.length<1?this.showAlert():(this.$refs.modal.getPoints(),this.$refs.modal.init(),this.$refs.modal.drawRouletteWheel(),this.$refs.modal.openModal())},showAlert:function(){this.$swal.fire({icon:"info",title:"請至少加入 2 個景點"})}}},i=r,l=(s("8ac8"),s("2877")),c=Object(l["a"])(i,n,o,!1,null,null,null);e["a"]=c.exports},b32b:function(t,e,s){t.exports=s.p+"img/logo_full.4cb5b812.svg"},bbec:function(t,e,s){"use strict";s("eb5c")},bdfd:function(t,e,s){},be04:function(t,e,s){},cb29:function(t,e,s){var n=s("23e7"),o=s("81d5"),a=s("44d2");n({target:"Array",proto:!0},{fill:o}),a("fill")},cccd:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("FrontNavbar"),s("section",{staticClass:"container main d-flex flex-column justify-content-center mt-5"},[s("div",{staticClass:"row justify-content-center align-items-center"},[s("div",{staticClass:"col-10 col-md-5 col-lg-4"},[s("h1",{staticClass:"h2 text-center mb-3"},[t._v("會員登入")]),s("form",{staticClass:"form-signin",attrs:{action:"#"}},[s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Account,expression:"user.Account"}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput",placeholder:"name@example.com"},domProps:{value:t.user.Account},on:{input:function(e){e.target.composing||t.$set(t.user,"Account",e.target.value)}}}),s("label",{attrs:{for:"floatingInput"}},[t._v("帳號")])]),s("div",{staticClass:"form-floating mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.Password,expression:"user.Password"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"請輸入密碼"},domProps:{value:t.user.Password},on:{input:function(e){e.target.composing||t.$set(t.user,"Password",e.target.value)}}}),s("label",{attrs:{for:"floatingPassword"}},[t._v("密碼")])]),s("div",{staticClass:"form-floating mb-3 text-center d-flex justify-content-between align-items-center"},[s("router-link",{staticClass:"btn btn-outline-primary btn-lg w-100 me-3",attrs:{to:"/memberSignup"}},[t._v("註冊")]),s("button",{staticClass:"btn btn-primary btn-lg w-100",attrs:{type:"button"},on:{click:t.login}},[t._v(" 登入 ")])],1)])])])]),s("FrontFooter")],1)},o=[],a=s("b0c9"),r=s("d08d"),i={components:{FrontNavbar:a["a"],FrontFooter:r["a"]},data:function(){return{user:{Account:"",Password:""},isMember:!1,routerFrom:""}},inject:["emitter"],methods:{login:function(){var t=this,e="https://localhost:44333/api/Login/Member";this.$http.post(e,this.user).then((function(e){console.log(e);var s=e.data.ID;t.isMember=!0,document.cookie="memberToken=".concat(t.isMember,"; expires=; path=/"),document.cookie="memberID=".concat(s,"; expires=; path=/"),t.$router.back(),t.emitter.emit("push-message",{style:"success",title:"登入成功"})})).catch((function(e){console.dir(e),t.$swal.fire({icon:"error",title:"".concat(e.response.data.Message,"，請再重新登入")})}))}}},l=i,c=(s("1838"),s("2877")),d=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=d.exports},d08d:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"footer"},[n("div",{staticClass:"container-fuild bg-dark py-5"},[n("div",{staticClass:"container text-center"},[n("router-link",{staticClass:"text-white h4 link-hover-opacity mb-3",attrs:{to:"/"}},[n("img",{staticClass:"logoImg",attrs:{src:s("e347"),alt:""}})]),t._m(0),n("p",{staticClass:"text-white mb-3 mt-3"},[t._v("© 2022 LOGO All Rights Reserved.")]),n("router-link",{staticClass:"text-white fs-6",attrs:{to:"/adminLogin"}},[t._v("進入後台")])],1)])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[s("li",[s("a",{staticClass:"link-hover-opacity text-white px-3 py-2 border-1 border-end",attrs:{href:"#"}},[t._v("facebook")])]),s("li",[s("a",{staticClass:"link-hover-opacity text-white px-3 py-2",attrs:{href:"#"}},[t._v("instagram")])])])}],a=(s("bbec"),s("2877")),r={},i=Object(a["a"])(r,n,o,!1,null,"4f57bbf8",null);e["a"]=i.exports},e103:function(t,e,s){"use strict";s("be04")},e347:function(t,e,s){t.exports=s.p+"img/logo.b48cc9ee.svg"},eb5c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-3fee145b.8247dd8a.js.map